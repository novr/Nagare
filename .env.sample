# Nagare環境変数設定サンプル
# 使用方法: このファイルを .env にコピーして、適切な値を設定してください
# cp .env.sample .env

# =============================================================================
# 実行環境設定
# =============================================================================
# Docker環境 or ローカル環境によって以下の値を変更してください

# データベースホスト
# - Docker環境: postgres (docker-compose.ymlのサービス名)
# - ローカル環境: localhost
DATABASE_HOST=postgres

# =============================================================================
# GitHub認証設定
# =============================================================================
# GitHub Apps認証（推奨）
GITHUB_APP_ID=123456
GITHUB_APP_INSTALLATION_ID=12345678
GITHUB_APP_PRIVATE_KEY_PATH=/path/to/private-key.pem
# または、Private Keyを直接環境変数に設定（Docker環境では改行を\nで表現）
# GITHUB_APP_PRIVATE_KEY="-----BEGIN RSA PRIVATE KEY-----\n...\n-----END RSA PRIVATE KEY-----"

# Personal Access Tokenで認証する場合（非推奨）
# GITHUB_TOKEN=your_personal_access_token_here

# =============================================================================
# データベース設定
# =============================================================================
DATABASE_PORT=5432
DATABASE_NAME=nagare
DATABASE_USER=nagare_user
# この値は ./scripts/setup-secrets.sh で自動生成されます
# ローカル開発環境のみ、手動で設定してください
DATABASE_PASSWORD=

# =============================================================================
# アプリケーション設定
# =============================================================================
# モックモード時の監視対象リポジトリ設定（JSON形式）
REPOSITORIES_JSON='[{"owner":"test-org","repo":"test-repo"}]'

# =============================================================================
# Airflow設定
# =============================================================================
# Webserver設定
AIRFLOW_WEBSERVER_PORT=8080

# 管理者アカウント（Docker初回起動時に作成）
AIRFLOW_ADMIN_USERNAME=admin
# 強力なパスワードを設定してください（最低16文字推奨）
AIRFLOW_ADMIN_PASSWORD=

# アラート通知先のメールアドレス
AIRFLOW_ALERT_EMAIL=admin@example.com

# =============================================================================
# Superset設定
# =============================================================================
SUPERSET_PORT=8088
# この値は ./scripts/setup-secrets.sh で自動生成されます
SUPERSET_SECRET_KEY=

# =============================================================================
# セキュリティに関する注意事項（Docker環境）
# =============================================================================
# Docker環境では以下のファイルに機密情報を配置してください：
# - secrets/db_password.txt          : データベースパスワード
# - secrets/airflow_secret_key.txt   : Airflow Secret Key
# - secrets/superset_secret_key.txt  : Superset Secret Key
#
# セットアップスクリプト: ./scripts/setup-secrets.sh
# これらのファイルはGitにコミットしないでください（.gitignoreに含まれています）
