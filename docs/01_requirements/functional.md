# 01. 機能要件

## 1. ダッシュボード機能

### 1.1. Four Keys メトリクス表示

- 以下の4つの指標を時系列のトレンドグラフで表示する。
  - **デプロイ頻度 (Throughput):** `main`ブランチへのマージ回数などを集計。
  - **変更のリードタイム (Lead Time for Changes):** PR作成からマージまでの時間などを集計。
  - **変更障害率 (Change Failure Rate):** `main`ブランチでのマージビルドの失敗率。
  - **平均修復時間 (MTTR):** `main`ブランチでのビルド失敗から、次の成功までの平均時間。

### 1.2. フィルタリングとドリルダウン

- **フィルタリング:**
  - 表示するデータの期間を自由に指定できる。
  - プロジェクト単位、リポジトリ単位で表示を絞り込める。
- **ドリルダウン:**
  - ダッシュボード上のすべてのグラフや数値から、その根拠となる詳細データ（ビルド一覧、ジョブ一覧など）に掘り下げることができる。
  - 最終的には、CI/CDツール（GitHub Actionsなど）の元ログ画面へ直接遷移できるリンクを提供する。

### 1.3. プロジェクト管理機能

- 複数のリポジトリを「プロジェクト」という単位で論理的にグルーピングできる。
- ユーザーはプロジェクトを作成し、分析対象のリポジトリを自由に関連付けることができる。
- ダッシュボードはプロジェクト単位での指標表示に対応する。

### 1.4. ボトルネック分析支援

- **CI実行時間の分析:**
  - 指定期間内で、実行時間が長いビルドやジョブをランキング表示する。
- **ビルド成功率の分析:**
  - 指定期間内で、失敗回数が多いビルドやジョブをランキング表示する。

## 2. データ収集機能

- 指定されたリポジトリのCI/CD実行データを、連携ツール（GitHub Actionsなど）のAPIから自動で定期的に収集する。
- 収集したデータは、`02_design/data_model.md` に定義された汎用データモデルに変換してデータベースに保存する。
